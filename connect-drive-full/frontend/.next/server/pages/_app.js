(()=>{var e={};e.id=888,e.ids=[888],e.modules={9724:(e,t,r)=>{"use strict";r.d(t,{V:()=>h,p:()=>d});var a=r(997),s=r(6689),o=r(3749),n=r(4535),l=r(406),i=r(9005);function c({id:e,type:t,title:r,message:c,duration:u=5e3,onClose:d}){let[h,f]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1);return a.jsx("div",{className:`
        ${(()=>{let e="notification max-w-sm w-full bg-white rounded-xl shadow-2xl border p-4 relative overflow-hidden";switch(t){case"success":return`${e} notification-success`;case"error":return`${e} notification-error`;case"warning":return`${e} notification-warning`;case"info":return`${e} notification-info`;default:return e}})()}
        transition-all duration-300 ease-in-out transform
        ${h&&!m?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:(()=>{switch(t){case"success":return a.jsx(o.Z,{className:"w-5 h-5 text-green-500"});case"error":return a.jsx(n.Z,{className:"w-5 h-5 text-red-500"});case"warning":return a.jsx(n.Z,{className:"w-5 h-5 text-yellow-500"});case"info":return a.jsx(l.Z,{className:"w-5 h-5 text-blue-500"})}})()}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),c&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c})]}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:(0,a.jsxs)("button",{onClick:()=>{x(!0),setTimeout(()=>{d(e)},300)},className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx(i.Z,{className:"w-5 h-5"})]})})]})})}let u=(0,s.createContext)(void 0),d=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useToast must be used within a ToastProvider");return e};function h({children:e}){let[t,r]=(0,s.useState)([]),o=(0,s.useCallback)(e=>{let t=Math.random().toString(36).substr(2,9),a={...e,id:t,onClose:n};r(e=>[...e,a])},[]),n=(0,s.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]);return(0,a.jsxs)(u.Provider,{value:{addToast:o,removeToast:n},children:[e,a.jsx(f,{toasts:t})]})}function f({toasts:e}){return a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-4",children:e.map(e=>a.jsx(c,{...e},e.id))})}},9314:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{H:()=>u,a:()=>d});var s=r(997),o=r(6689),n=r(9648),l=e([n]);n=(l.then?(await l)():l)[0];let i=(0,o.createContext)(void 0),c="http://localhost:3001",u=({children:e})=>{let[t,r]=(0,o.useState)(null),[a,l]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!0),[h,f]=(0,o.useState)(null),m=()=>{n.default.defaults.baseURL=c;let e=localStorage.getItem("accessToken");e&&(n.default.defaults.headers.common.Authorization=`Bearer ${e}`),n.default.interceptors.response.use(e=>e,async e=>{let t=e.config;if(e.response?.status===401&&!t._retry){t._retry=!0;try{await w();let e=localStorage.getItem("accessToken");return n.default.defaults.headers.common.Authorization=`Bearer ${e}`,t.headers.Authorization=`Bearer ${e}`,(0,n.default)(t)}catch(e){return v(),Promise.reject(e)}}return Promise.reject(e)})};(0,o.useEffect)(()=>{m(),(async()=>{let e=localStorage.getItem("accessToken");if(e)try{let t=await n.default.get(`${c}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});r(t.data),l(!0)}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),l(!1)}d(!1)})()},[]);let x=async(e,t)=>{f(null);try{let{accessToken:a,refreshToken:s}=(await n.default.post(`${c}/auth/login`,{email:e,password:t})).data;localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",s),n.default.defaults.headers.common.Authorization=`Bearer ${a}`;let o=await n.default.get(`${c}/auth/me`,{headers:{Authorization:`Bearer ${a}`}});r(o.data),l(!0)}catch(t){let e=t.response?.data?.message||"Login failed";throw f(e),t}},g=async(e,t,a)=>{f(null);try{let{accessToken:s,refreshToken:o}=(await n.default.post(`${c}/auth/register`,{email:e,password:t,displayName:a})).data;localStorage.setItem("accessToken",s),localStorage.setItem("refreshToken",o),n.default.defaults.headers.common.Authorization=`Bearer ${s}`;let i=await n.default.get(`${c}/auth/me`,{headers:{Authorization:`Bearer ${s}`}});r(i.data),l(!0)}catch(t){let e=t.response?.data?.message||"Registration failed";throw f(e),t}},w=async()=>{try{let e=localStorage.getItem("refreshToken");if(!e)throw Error("No refresh token");let{accessToken:t,refreshToken:r}=(await n.default.post(`${c}/auth/refresh`,{refreshToken:e})).data;localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",r),n.default.defaults.headers.common.Authorization=`Bearer ${t}`}catch(e){throw v(),e}},v=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),delete n.default.defaults.headers.common.Authorization,r(null),l(!1),f(null)};return s.jsx(i.Provider,{value:{user:t,isAuthenticated:a,isLoading:u,error:h,login:x,register:g,logout:v,refreshToken:w},children:e})},d=()=>{let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},6814:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>i});var s=r(997);r(6764);var o=r(9314),n=r(9724),l=e([o]);function i({Component:e,pageProps:t}){return s.jsx(o.H,{children:s.jsx(n.V,{children:s.jsx(e,{...t})})})}o=(l.then?(await l)():l)[0],a()}catch(e){a(e)}})},6764:()=>{},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},3749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},4535:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},406:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))})},9005:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})}};var t=require("../webpack-runtime.js");t.C(e);var r=t(t.s=6814);module.exports=r})();